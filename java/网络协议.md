传输层

tcp    游览器端口:12345
       电商应用端口:443
http   post,url,Http1.1 正文格式json,正文长度:12
	   我要买什么，买多少
	   
网络层

		
ip	   客户端电脑Ip:192.168.1.101
	   电务器ip:106.114.138.23
tcp    游览器端口:12345
       电商应用端口:443
http   post,url,Http1.1 正文格式json,正文长度:12
	   我要买什么，买多少
	   
	   
操作系统怎么把消息发送目标地址？
ip地址是本地还是外地
类比去过国外要经过海关，去外地就要去网关.
操作系统启动会被DHCP 协议配置IP地址，以及默认网关地址ip192.168.1.1
操作系统怎么把消息发送目标网关了？
本地通讯靠吼(arp协议)？操作系统问谁是192.168.1.1？网关会回答 我就是本地地址村东头（mac地址）

mac    客户端电脑mac:192.168.1.101的mac
	   网关的mac:192.168.1.1的mac
ip	   客户端电脑Ip:192.168.1.101
	   电务器ip:106.114.138.23
tcp    游览器端口:12345
       电商应用端口:443
http   post,url,Http1.1 正文格式json,正文长度:12
	   我要买什么，买多少

网卡发送数据到网关

网关是路由器,到某个id的地址怎么走,叫路由表
路由器像西游记的西行的一个个国家的城关。每个城关连接2个国家。每个国家相当于一个局域网。每个国家内部，都可以使用本地的mac进行通讯

到了城关，拿出ip头 来之东土大唐(原ip) 去西天（目标ip）请问怎么走？

去ip段1,走网口1，下一跳为路由器A    去女儿国，左边，下一站女儿国东门
去ip段2,走网口2，下一跳为路由器B    去车迟国，中间，下一站车迟国东门
去ip段3,走网口3，下一跳为路由器C    去傲来国，右边，下一站傲来国东门

城关和城关经常沟通，到哪里应该怎么走？这种沟通的协议叫路由协议，常用有ospf和bgp

知道城关，还需要使用国家内部的mac地址
通过当前的城关的mac,找到一下个城关，最后一个城关。对着国家吼，谁是目标ip?
目标ip就会回复一个mac地址。网络包过关后，通过这个mac地址找到目标服务器。








